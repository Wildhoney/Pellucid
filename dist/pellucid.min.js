!function(e,t){"use strict";var n="pellucid-container",r=function(){};r.prototype={frameElement:null,applyParentStyles:function(e){e=t.querySelector("html"),e.style.height=parseInt(this.computedParentValue("height"))+"px",e.style.width=parseInt(this.computedParentValue("width"))+"px",e.style.filter="blur(2px)",e.style.mozFilter="blur(2px)",e.style.webkitFilter="blur(2px)",e.style.overflow="hidden",e.style.pointerEvents="none",e.style.position="absolute"},removeAllContainers:function(){for(var e=t.querySelectorAll('section[is="'+n+'"]'),r=0,o=e.length;o>r;r++)e[r].remove()},computedParentValue:function(t){var n=e.parent.document.querySelector("html"),r=e.getComputedStyle(n);return r.getPropertyValue(t)},createFrameElement:function(e){var n=t.createElement("iframe");return n.src=t.URL,n.onload=function(){this.frameElementJustify(e,n)}.bind(this),n},frameElementJustify:function(t,n){var r=function(n){var r=e.getComputedStyle(t)[n];if(t.style.transform){var o=String(t.style.transform).match(/(?:((?:\-)?\d+)px)/g),i="top"===n?1:0;r=parseInt(r)+parseInt(o[i])}return r},o=n.contentWindow,i=r("top"),l=r("left");o.scrollTo(parseInt(l),parseInt(i))},createStructureElement:function(e,n){var r=t.createElement("div");return r.className=n,r.style.width="100%",r.style.height="100%",r.style.position="absolute",r.style.top=0,r.style.left=0,e.appendChild(r),r},addFrameElement:function(e,t){t.appendChild(e)},isParent:function(e){return!!e.contentWindow},styleFrameElement:function(e){return this.isParent(e)?void this.styleParentFrameElement(e):(this.styleChildFrameElement(e),void this.removeAllContainers())},styleChildFrameElement:function(n){n=t.querySelector("html"),n.style.height=parseInt(this.computedParentValue("height"))+"px",n.style.width=parseInt(this.computedParentValue("width"))+"px",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.position="absolute",e.onmessage=function(e){n.style.height=e.data.height,n.style.width=e.data.width}},styleParentFrameElement:function(e){var t=e.contentWindow,n=t.document.querySelector("html");n.style.width="100%",n.style.height="100%"},addRenderListener:function(n,r){var o=t.querySelector("body");e.onresize=function(){var t=e.getComputedStyle(o);r.contentWindow.postMessage({height:t.getPropertyValue("height"),width:t.getPropertyValue("width")},"*")}.bind(this)},removeContentNodes:function(e){for(var t=[],n=0,r=e.childNodes.length;r>n;n++){var o=e.childNodes[n];t.push(o)}return t.forEach(function(e){e.remove()}),t},reattachContentElements:function(e,t){t.forEach(function(t){e.appendChild(t)})}};var o=Object.create(HTMLDivElement.prototype,{attachedCallback:{value:function(){var e=new r,t=e.createFrameElement(this),n=e.removeContentNodes(this),o=e.createStructureElement(this,"background"),i=e.createStructureElement(this,"content");e.reattachContentElements(i,n),e.addFrameElement(t,o),e.styleFrameElement(t),e.isParent(t)&&e.addRenderListener(this,t);var l=new Draggabilly(this,{});l.on("dragMove",function(){e.frameElementJustify(this,t)}.bind(this))}}});t.registerElement(n,{prototype:o,"extends":"section"})}(window,window.document);